<!DOCTYPE html>
<html lang="zh-ch">
<head>
    <meta charset="UTF-8">
    <title>登录 - 二手交易市场</title>
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body class="full-screen-body">
<div id="page-header">
    <page-header></page-header>
</div>
<div id="login-box-container">
    <img src="../img/login-page.png">
    <div id="login-box">
        <el-card class="box-card">
            <div class="form-header">
                <label style="color:white" v-show="formType === 'userLogin'">用户登录</label>
                <label style="color:white" v-show="formType === 'adminLogin'">管理员登录</label>
                <label style="color:white" v-show="formType === 'register'">注册</label>
            </div>
            <el-divider class="h-rule"></el-divider>
            <el-form v-show="formType === 'userLogin'" :model="userLoginForm" :rules="userLoginRules"
                     ref="userLoginForm">
                <el-form-item prop="emailOrID">
                    <el-input class="transparency-input" v-model="userLoginForm.emailOrID"
                              placeholder="用户账号/电子邮箱地址"
                              prefix-icon="el-icon-user"></el-input>
                </el-form-item>
                <el-form-item prop="password">
                    <el-input class="transparency-input" type="password" v-model="userLoginForm.password"
                              placeholder="密码"
                              prefix-icon="el-icon-lock"></el-input>
                </el-form-item>
                <el-form-item>
                    <el-button @click="onUserLogin" class="submit-button">登录</el-button>
                </el-form-item>
                <el-form-item class="form-bottom">
                    <div class="link-container">
                        <el-link class="link" v-on:click="formType = 'adminLogin'">管理员登录</el-link>
                        <el-link class="link" v-on:click="formType = 'register'">注册账号</el-link>
                    </div>
                </el-form-item>
            </el-form>
            <el-form v-show="formType === 'adminLogin'" :model="adminLoginForm" :rules="adminLoginRules"
                     ref="adminLoginForm">
                <el-form-item prop="id">
                    <el-input class="transparency-input" v-model="adminLoginForm.id"
                              placeholder="管理员账号"
                              prefix-icon="el-icon-user"></el-input>
                </el-form-item>
                <el-form-item prop="password">
                    <el-input class="transparency-input" type="password" v-model="adminLoginForm.password"
                              placeholder="密码"
                              prefix-icon="el-icon-lock"></el-input>
                </el-form-item>
                <el-form-item>
                    <el-button @click="onAdminLogin" class="submit-button">登录</el-button>
                </el-form-item>
                <el-form-item class="form-bottom">
                    <div class="link-container">
                        <el-link class="link" v-on:click="formType = 'userLogin'">用户登录</el-link>
                    </div>
                </el-form-item>
            </el-form>
            <el-form v-show="formType === 'register'" status-icon :rules="registerRules" :model="registerForm"
                     ref="registerForm">
                <el-form-item prop="email">
                    <el-input class="transparency-input" v-model="registerForm.email"
                              placeholder="电子邮箱地址"
                              prefix-icon="el-icon-message"></el-input>
                </el-form-item>
                <el-form-item prop="nickname">
                    <el-input class="transparency-input" v-model="registerForm.nickname" placeholder="昵称"
                              prefix-icon="el-icon-user"></el-input>
                </el-form-item>
                <el-form-item prop="password">
                    <el-input class="transparency-input" type="password" v-model="registerForm.password"
                              placeholder="密码"
                              prefix-icon="el-icon-lock"></el-input>
                </el-form-item>
                <el-form-item prop="confirmedPassword">
                    <el-input class="transparency-input" type="password" v-model="registerForm.confirmedPassword"
                              placeholder="确认密码"
                              prefix-icon="el-icon-s-check"></el-input>
                </el-form-item>
                <el-form-item>
                    <el-button @click="onRegister" class="submit-button">注册</el-button>
                </el-form-item>
                <el-form-item class="form-bottom">
                    <div class="link-container">
                        <el-link class="link" v-on:click="formType = 'userLogin'">用户登录</el-link>
                        <el-link class="link" v-on:click="formType = 'adminLogin'">管理员登录</el-link>
                    </div>
                </el-form-item>
            </el-form>
        </el-card>
    </div>
</div>
</body>
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="../js/header.js"></script>
<script src="../js/login.js"></script>
</html>